(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>o});var a=r(5155);r(2115);var s=r(9708),n=r(2085),i=r(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...c}=e,d=l?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...c})}},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(5155);r(2115);var s=r(9434);function n(e){let{className:t,type:r,value:n,...i}=e;return(0,a.jsx)("input",{type:r,value:n,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},4214:(e,t,r)=>{Promise.resolve().then(r.bind(r,9690))},5057:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var a=r(5155);r(2115);var s=r(968),n=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=r(5155);r(2115);var s=r(9434);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},7262:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var a=r(5155);r(2115);var s=r(6981),n=r(5196),i=r(9434);function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(s.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(n.A,{className:"size-3.5"})})})}},9230:(e,t,r)=>{"use strict";r.d(t,{cy:()=>m,y1:()=>x,As:()=>g});var a=r(2115);let s={defaultExpiration:864e5,rememberMeExpiration:2592e6,inactivityTimeout:72e5,warningBeforeExpiry:3e5},n={SESSION:"tailadmin_session",LAST_ACTIVITY:"tailadmin_last_activity",SESSION_FINGERPRINT:"tailadmin_fingerprint"};function i(e){try{let t=JSON.stringify(e);return btoa(t)}catch(e){return console.error("Error encrypting session data:",e),""}}function o(e){try{let t=atob(e);return JSON.parse(t)}catch(e){return console.error("Error decrypting session data:",e),null}}function l(){let e=Date.now().toString(),t=Array.from(crypto.getRandomValues(new Uint8Array(16))).map(e=>e.toString(16).padStart(2,"0")).join("");return btoa("".concat(e,"-").concat(t)).replace(/[+/=]/g,"")}function c(e){return Date.now()>e.expiresAt}function d(){localStorage.setItem(n.LAST_ACTIVITY,Date.now().toString())}function u(){let e=localStorage.getItem(n.SESSION);if(e){let t=o(e);t&&c(t)&&(localStorage.removeItem(n.SESSION),localStorage.removeItem(n.LAST_ACTIVITY),localStorage.removeItem(n.SESSION_FINGERPRINT))}}let m=(0,a.createContext)(void 0);function g(){let e=(0,a.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let x={saveSession:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Date.now(),a=t?s.rememberMeExpiration:s.defaultExpiration,o={user:e,token:l(),expiresAt:r+a,loginTime:r,rememberMe:t,fingerprint:function(){let e=document.createElement("canvas"),t=e.getContext("2d");return t&&(t.textBaseline="top",t.font="14px Arial",t.fillText("Session fingerprint",2,2)),btoa([navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),e.toDataURL()].join("|")).slice(0,32)}()},c=i(o);return localStorage.setItem(n.SESSION,c),localStorage.setItem(n.SESSION_FINGERPRINT,o.fingerprint),d(),o},getSession:()=>{try{let e=localStorage.getItem(n.SESSION);if(!e)return null;let t=o(e);if(!t)return null;if(c(t)||function(){let e=localStorage.getItem(n.LAST_ACTIVITY);return!e||Date.now()-parseInt(e)>s.inactivityTimeout}()||localStorage.getItem(n.SESSION_FINGERPRINT)!==t.fingerprint)return x.clearSession(),null;return t}catch(e){return console.error("Error retrieving session:",e),x.clearSession(),null}},clearSession:()=>{localStorage.removeItem(n.SESSION),localStorage.removeItem(n.LAST_ACTIVITY),localStorage.removeItem(n.SESSION_FINGERPRINT),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user")},isSessionValid:()=>null!==x.getSession(),refreshSession:()=>{let e=x.getSession();if(!e)return null;let t=Date.now(),r=e.rememberMe?s.rememberMeExpiration:s.defaultExpiration,a={...e,expiresAt:t+r,token:l()},o=i(a);return localStorage.setItem(n.SESSION,o),d(),a},login:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(await new Promise(e=>setTimeout(e,1e3)),e&&t){let t={id:"1",email:e,name:"admin@tailadmin.com"===e?"Musharof":"User",avatar:"/placeholder-avatar.jpg"},a=x.saveSession(t,r);return{success:!0,user:t,session:a}}return{success:!1}},signup:async e=>{await new Promise(e=>setTimeout(e,1500));let t={id:Date.now().toString(),email:e.email,name:e.fullName};return localStorage.setItem("registeredUser",JSON.stringify(t)),{success:!0,user:t}},logout:()=>{x.clearSession()},getCurrentUser:()=>{let e=x.getSession();return(null==e?void 0:e.user)||null},isAuthenticated:()=>x.isSessionValid(),getSessionTimeRemaining:()=>{let e=x.getSession();return e?Math.max(0,e.expiresAt-Date.now()):0},isSessionNearExpiry:()=>{let e=x.getSession();return!!e&&function(e){let t=e.expiresAt-Date.now();return t<=s.warningBeforeExpiry&&t>0}(e)},initializeSessionManagement:()=>{u();let e=function(){let e=["mousedown","mousemove","keypress","scroll","touchstart","click"],t=()=>{d()};return e.forEach(e=>{document.addEventListener(e,t,{passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,t)})}}();document.addEventListener("visibilitychange",()=>{document.hidden||(d(),u())});let t=setInterval(()=>{let e=x.getSession();e&&c(e)&&(x.clearSession(),window.location.href="/login")},6e4);return()=>{e&&e(),clearInterval(t)}}}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9690:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(5155),s=r(2115),n=r(5695),i=r(6874),o=r.n(i),l=r(285),c=r(2523),d=r(5057),u=r(6695),m=r(7262),g=r(9230);function x(){let e=(0,n.useRouter)(),{login:t,isLoading:r}=(0,g.As)(),[i,x]=(0,s.useState)({email:" admin@tailadmin.com",password:"password123",rememberMe:!0}),[h,v]=(0,s.useState)(""),p=async r=>{if(r.preventDefault(),v(""),!i.email||!i.password)return void v("Vui l\xf2ng nhập đầy đủ th\xf4ng tin!");await t(i.email,i.password,i.rememberMe)?e.push("/"):v("Email hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c!")},f=(e,t)=>{x(r=>({...r,[e]:t}))};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4",children:(0,a.jsx)("span",{className:"text-white font-bold text-xl",children:"T"})})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"TailAdmin"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Đăng nhập v\xe0o t\xe0i khoản của bạn"})]}),(0,a.jsxs)(u.Zp,{children:[(0,a.jsx)(u.aR,{children:(0,a.jsx)(u.ZB,{className:"text-center",children:"Đăng nhập"})}),(0,a.jsx)(u.Wu,{children:(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(c.p,{id:"email",type:"email",value:"admin@tailadmin.com",onChange:e=>f("email",e.target.value),placeholder:"Nhập địa chỉ email",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"password",children:"Mật khẩu"}),(0,a.jsx)(c.p,{id:"password",type:"password",value:"password123",onChange:e=>f("password",e.target.value),placeholder:"Nhập mật khẩu",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m.S,{id:"rememberMe",checked:i.rememberMe,onCheckedChange:e=>f("rememberMe",e)}),(0,a.jsx)(d.J,{htmlFor:"rememberMe",className:"text-sm",children:"Ghi nhớ đăng nhập"})]}),(0,a.jsx)(o(),{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Qu\xean mật khẩu?"})]})]}),h&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:h}),(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:r,children:r?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Đang đăng nhập..."})]}):"Đăng nhập"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Chưa c\xf3 t\xe0i khoản?"," ",(0,a.jsx)(o(),{href:"/signup",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Đăng k\xfd ngay"})]})})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Hoặc đăng nhập với"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)(l.$,{variant:"outline",className:"w-full",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),(0,a.jsxs)(l.$,{variant:"outline",className:"w-full",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[389,874,557,441,684,358],()=>t(4214)),_N_E=e.O()}]);