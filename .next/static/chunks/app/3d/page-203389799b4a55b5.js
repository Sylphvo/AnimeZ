(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9304],{32:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var n=r(5155),a=r(2115),o=r(1991),i=r(7558),c=r(3264);async function s(e,t){let{GLTFLoader:n}=await r.e(9311).then(r.bind(r,9311)),a=new n,o=await a.loadAsync("/models/character.glb"),i=o.scene||new c.YJl;i.position.copy(t),i.traverse(e=>{if(e.isMesh){e.castShadow=!0,e.receiveShadow=!0;try{if(!(e.material instanceof c._4j)){let t=e.material,r=new c._4j({map:t.map||null,color:t.color||new c.Q1f(0xffffff)});r.skinning=!!e.skinned,e.material=r}}catch(e){}}}),e.add(i);let s={group:i};if(o.animations&&o.animations.length>0){let e=new c.Iw4(i),t=new Map;for(let r of o.animations){let n=r.name||r.uuid,a=e.clipAction(r);a.clampWhenFinished=!0,a.enabled=!0,t.set(n,a)}s.mixer=e,s.actions=t;let r=t.get("Idle")||t.get("idle")||t.values().next().value;r&&r.play()}return s}function l(e){var t;let{materials:r}=e;return(0,n.jsxs)("mesh",{"rotation-x":-Math.PI/2,receiveShadow:!0,position:[0,0,0],children:[(0,n.jsx)("planeGeometry",{args:[100,100]}),(0,n.jsx)("meshStandardMaterial",{color:(null==(t=r.mossyGrass)?void 0:t.color)||7047995,roughness:1})]})}function d(e){let{materials:t,count:r=60,spread:o=50}=e,i=(0,a.useRef)([]);if(0===i.current.length)for(let e=0;e<r;e++)i.current.push([(Math.random()-.5)*o*2,0,(Math.random()-.5)*o*2]);return(0,n.jsx)("group",{children:i.current.map((e,r)=>{var a,o,i;let c=.8+r%5*.02+.6*Math.random();return(0,n.jsxs)("group",{position:e,scale:[c,c,c],"rotation-y":Math.random()*Math.PI*2,children:[(0,n.jsxs)("mesh",{position:[0,1,0],castShadow:!0,receiveShadow:!0,children:[(0,n.jsx)("cylinderGeometry",{args:[.18,.25,2,8]}),(0,n.jsx)("meshStandardMaterial",{color:(null==(a=t.trunk)?void 0:a.color)||4865064})]}),(0,n.jsxs)("mesh",{position:[0,2.2,0],castShadow:!0,receiveShadow:!0,children:[(0,n.jsx)("coneGeometry",{args:[1.2,2,8]}),(0,n.jsx)("meshStandardMaterial",{color:(null==(o=t.teaPlant)?void 0:o.color)||2972199})]}),(0,n.jsxs)("mesh",{position:[0,3.05,0],castShadow:!0,receiveShadow:!0,children:[(0,n.jsx)("coneGeometry",{args:[.8,1.4,8]}),(0,n.jsx)("meshStandardMaterial",{color:(null==(i=t.teaPlant)?void 0:i.color)||3828530})]})]},r)})})}function u(e){let{materials:t}=e,r=(0,a.useRef)(null),{camera:i}=(0,o.C)();(0,a.useEffect)(()=>{let e=r.current;return i.add(e),e.position.set(0,-.25,-.5),()=>{try{i.remove(e)}catch(e){}}},[i]);let s=t.wood||new c._4j({color:0xd1a17a});return(0,n.jsxs)("group",{ref:r,children:[(0,n.jsxs)("mesh",{position:[-.18,0,-.15],castShadow:!0,children:[(0,n.jsx)("boxGeometry",{args:[.18,.18,.5]}),(0,n.jsx)("meshStandardMaterial",{...s})]}),(0,n.jsxs)("mesh",{position:[-.18,-.12,-.4],castShadow:!0,children:[(0,n.jsx)("boxGeometry",{args:[.14,.08,.2]}),(0,n.jsx)("meshStandardMaterial",{...s})]}),(0,n.jsxs)("mesh",{position:[.18,0,-.15],castShadow:!0,children:[(0,n.jsx)("boxGeometry",{args:[.18,.18,.5]}),(0,n.jsx)("meshStandardMaterial",{...s})]}),(0,n.jsxs)("mesh",{position:[.18,-.12,-.4],castShadow:!0,children:[(0,n.jsx)("boxGeometry",{args:[.14,.08,.2]}),(0,n.jsx)("meshStandardMaterial",{...s})]})]})}let w={playerRef:{current:new c.Pq0(0,1.6,0)}},h=(0,a.createContext)(w),f=e=>{let{children:t}=e,r=(0,a.useRef)(new c.Pq0(0,1.6,0));return(0,n.jsx)(h.Provider,{value:{playerRef:r},children:t})};function m(){return(0,a.useContext)(h)}var p=r(7431);function y(e){let{materials:t}=e,{camera:r,scene:n}=(0,o.C)(),{playerRef:i}=m(),l=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null);(0,a.useRef)(null),(0,a.useRef)(new c.zD7);let w=(0,a.useRef)({forward:!1,backward:!1,left:!1,right:!1,shift:!1,jump:!1}),h=(0,a.useRef)({phi:0,theta:0});return(0,a.useEffect)(()=>{let e=()=>{var e;let t=document.getElementById("root-canvas")||document.body;null==(e=t.requestPointerLock)||e.call(t)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]),(0,a.useEffect)(()=>{let e=e=>{switch(e.code){case"KeyW":case"ArrowUp":w.current.forward=!0;break;case"KeyS":case"ArrowDown":w.current.backward=!0;break;case"KeyA":case"ArrowLeft":w.current.left=!0;break;case"KeyD":case"ArrowRight":w.current.right=!0;break;case"ShiftLeft":case"ShiftRight":w.current.shift=!0;break;case"Space":w.current.jump=!0}},t=e=>{switch(e.code){case"KeyW":case"ArrowUp":w.current.forward=!1;break;case"KeyS":case"ArrowDown":w.current.backward=!1;break;case"KeyA":case"ArrowLeft":w.current.left=!1;break;case"KeyD":case"ArrowRight":w.current.right=!1;break;case"ShiftLeft":case"ShiftRight":w.current.shift=!1;break;case"Space":w.current.jump=!1}};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,a.useEffect)(()=>{let e=e=>{document.pointerLockElement&&(h.current.theta-=.002*e.movementX,h.current.phi-=.002*e.movementY,h.current.phi=Math.max(-Math.PI/2,Math.min(Math.PI/2,h.current.phi)))};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await s(n,i.current.clone());if(!e)return;l.current=t.group,t.mixer&&(d.current=t.mixer),t.actions&&(u.current=t.actions)}catch(o){let e=new c.YJl,t=new c.iNn(.6,1.6,.4),r=new c._4j({color:0x996644}),a=new c.eaF(t,r);a.castShadow=!0,a.position.set(0,.8,0),e.add(a),e.position.copy(i.current),n.add(e),l.current=e}})(),()=>{e=!1}},[n]),(0,o.D)((e,t)=>{d.current&&d.current.update(t),r.rotation.order="YXZ",r.rotation.x=h.current.phi,r.rotation.y=h.current.theta,r.rotation.z=0;let n=w.current.shift?4*t:2*t,a=new c.Pq0;r.getWorldDirection(a),a.y=0,a.normalize();let o=new c.Pq0().crossVectors(a,new c.Pq0(0,1,0)).normalize();if(w.current.forward&&i.current.addScaledVector(a,n),w.current.backward&&i.current.addScaledVector(a,-n),w.current.left&&i.current.addScaledVector(o,-n),w.current.right&&i.current.addScaledVector(o,n),r.position.copy(i.current),r.position.y=1.6,l.current){let e=l.current,t=new c.Pq0(i.current.x,0,i.current.z);e.position.lerp(t,.2),e.rotation.y=h.current.theta}}),null}let v={"en-US":{controlsWasd:"WASD/Arrow Keys: Move",controlsSpace:"Space: Jump",controlsShift:"Shift: Run",loadingText:"Loading Tea Garden",loadingWait:"Please wait..."},"es-ES":{controlsWasd:"WASD/Flechas: Mover",controlsSpace:"Espacio: Saltar",controlsShift:"Shift: Correr",loadingText:"Cargando Jard\xedn de T\xe9",loadingWait:"Por favor espere..."},"vi-VN":{controlsWasd:"WASD/Mũi t\xean: Di chuyển",controlsSpace:"Space: Nhảy",controlsShift:"Shift: Chạy",loadingText:"Đang tải Vườn Tr\xe0",loadingWait:"Vui l\xf2ng đợi..."}};function S(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),w=(0,a.useRef)(null),h=(0,a.useRef)(null),S=(0,a.useRef)(void 0),b=(0,a.useRef)(null),j=(0,a.useRef)(null),[M,P]=(0,a.useState)(!1),{camera:E,scene:z}=(0,o.C)(),{playerRef:R}=m(),L=(0,a.useRef)(null),G=(0,a.useRef)(null),A=(0,a.useRef)(null);(0,a.useRef)(null),(0,a.useRef)(new c.zD7);let[V,q]=(0,a.useState)(!0),[W,_]=(0,a.useState)("en-US"),[C,F]=(0,a.useState)(!1),[D,I]=(0,a.useState)(!1),[K,N]=(0,a.useState)(!1),Y=(0,a.useRef)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,shift:!1}),J=(0,a.useRef)({phi:0,theta:0}),B=(0,a.useRef)({yVelocity:0,isGrounded:!0}),U=(0,a.useRef)(null),X=(0,a.useRef)(null),T=(0,a.useRef)(null),O=(0,a.useRef)(null);(0,a.useCallback)(e=>{var t;return(null==(t=v[W])?void 0:t[e])||v["en-US"][e]||e},[W]),(0,a.useEffect)(()=>{let e=()=>{var e;let t=document.getElementById("root-canvas")||document.body;null==(e=t.requestPointerLock)||e.call(t)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]),(0,a.useEffect)(()=>{var e;_((e=>{if(v[e])return e;let t=e.split("-")[0];return Object.keys(v).find(e=>e.startsWith(t+"-"))||"en-US"})((null==(e=navigator.languages)?void 0:e[0])||navigator.language||"en-US"))},[]);let Z=(0,a.useCallback)(()=>{let e=document.createElement("canvas");e.width=256,e.height=256;let t=e.getContext("2d");t.fillStyle="#3a5f3a",t.fillRect(0,0,256,256);for(let e=0;e<1e3;e++)t.fillStyle="hsl(".concat(80+20*Math.random(),", 50%, ").concat(30+20*Math.random(),"%)"),t.fillRect(256*Math.random(),256*Math.random(),1,1);let r=new c.GOR(e);return r.wrapS=c.GJx,r.wrapT=c.GJx,r.repeat.set(10,10),{grassTexture:r}},[]),H=(0,a.useCallback)(e=>({grass:new c.G_z({color:3825466,map:e.grassTexture}),mossyGrass:new c.G_z({color:4878154}),water:new c.tXL({color:4620980,shininess:100,transparent:!0,opacity:.8}),stone:new c.G_z({color:8421504}),wood:new c.G_z({color:9127187}),trunk:new c.G_z({color:4865064}),lantern:new c.tXL({color:0xff6b35,emissive:0xff6b35,emissiveIntensity:.2}),teaPlant:new c.G_z({color:2263842})}),[]),$=(0,a.useCallback)(e=>{let t=new c.Gu$(.3,8,6),r=new c.ZLX(t,e.teaPlant,200),n=new c.kn4,a=new c.Pq0,o=new c.O9p,i=new c.Pq0;for(let e=0;e<200;e++)a.set((Math.random()-.5)*50,.3,(Math.random()-.5)*50),o.set(0,Math.random()*Math.PI*2,0),i.setScalar(.5+.5*Math.random()),n.makeRotationFromEuler(o),n.setPosition(a),n.scale(i),r.setMatrixAt(e,n);return r.castShadow=!0,r},[]),Q=(0,a.useCallback)(e=>{let t=new c.bdM(100,100),r=new c.eaF(t,e.mossyGrass||e.grass);return r.rotation.x=-Math.PI/2,r.receiveShadow=!0,r},[]),ee=(0,a.useCallback)(()=>{let e=new c.Gu$(1e3,32,32),t=new c.BKk({vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() {\n          vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n          vWorldPosition = worldPosition.xyz;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        varying vec3 vWorldPosition;\n        void main() {\n          vec3 skyColor = vec3(0.5, 0.7, 1.0); // Light blue\n          vec3 groundColor = vec3(0.1, 0.1, 0.1); // Dark\n          float h = normalize(vWorldPosition).y;\n          gl_FragColor = vec4(mix(groundColor, skyColor, max(pow(max(h, 0.0), 0.8), 0.0)), 1.0);\n        }\n      ",side:c.hsX});return new c.eaF(e,t)},[]),et=(0,a.useCallback)(e=>{let t=new c.$p8(4210752,.4);e.add(t);let r=new c.ZyN(0xffffff,.8);r.position.set(50,50,25),r.castShadow=!0,r.shadow.mapSize.width=2048,r.shadow.mapSize.height=2048,r.shadow.camera.near=.5,r.shadow.camera.far=500,r.shadow.camera.left=-100,r.shadow.camera.right=100,r.shadow.camera.top=100,r.shadow.camera.bottom=-100,e.add(r)},[]),er=(0,a.useCallback)(e=>{e.fog=new c.jUj(8900331,50,200)},[]);(0,a.useEffect)(()=>{if(!e.current)return;let n=new c.Z58;t.current=n;let a=new c.ubm(75,window.innerWidth/window.innerHeight,.1,1e3);a.rotation.order="YXZ",a.position.copy(R.current),h.current=a;let o=new p.WebGLRenderer({antialias:!0});o.setSize(window.innerWidth,window.innerHeight),o.shadowMap.enabled=!0,o.shadowMap.type=c.Wk7,w.current=o,e.current.appendChild(o.domElement);let i=H(Z());(async()=>{try{let{GLTFLoader:e}=await r.e(9311).then(r.bind(r,9311)),t=new e,a=(await t.loadAsync("/models/character.glb")).scene;a.traverse(e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),a.scale.set(1,1,1),a.position.copy(R.current),j.current=a,n.add(a)}catch(o){let e=new c.YJl,t=new c.iNn(.6,1.6,.4),r=i.wood||new c._4j({color:0x996644}),a=new c.eaF(t,r);a.castShadow=!0,a.position.set(0,.8,0),e.add(a),e.position.copy(R.current),j.current=e,n.add(e)}})();let s=k(i);b.current=s,a.add(s);let l=Q(i);n.add(l);let d=x(i,80,50);O.current=d,n.add(d);let u=ee();n.add(u),et(n),er(n);let f=g(i,8,1,{position:new c.Pq0(0,.05,-10)});n.add(f);let m=$(i);n.add(m);let y=x(i,60,50);n.add(y),q(!1);let v=()=>{S.current=requestAnimationFrame(v);let e=b.current;if(e){let t=performance.now()/1e3,r=Y.current,n=r.forward||r.backward||r.left||r.right,a=n?8:2,o=n?.04:.01;e.position.y=-.2+Math.sin(t*a)*o,e.rotation.x=Math.sin(t*a*1.2)*o*.7;let i=(r.left?-1:0)+ +!!r.right;e.rotation.z=.1*i*!!n}o.render(n,a)};return v(),()=>{var t,r;if(S.current&&cancelAnimationFrame(S.current),b.current&&a&&a.remove(b.current),e.current&&o.domElement&&(null==(t=e.current)||t.removeChild(o.domElement)),U.current){try{null==(r=U.current.bodies)||r.forEach(e=>U.current.removeBody(e))}catch(e){}U.current=null,X.current=null,T.current=null}o.dispose()}},[]),(0,a.useEffect)(()=>{if(!K||!t.current){if(U.current){try{var e;null==(e=U.current.bodies)||e.forEach(e=>U.current.removeBody(e))}catch(e){}U.current=null,X.current=null,T.current=null}return}let n=!1;return(async()=>{try{let e=await r.e(4547).then(r.bind(r,1381));if(n)return;T.current=e;let t=new e.World;t.broadphase=new e.NaiveBroadphase,t.solver.iterations=10,t.gravity.set(0,-9.82,0),U.current=t;let a=new e.Body({mass:0}),o=new e.Plane;a.addShape(o),a.quaternion.setFromEuler(-Math.PI/2,0,0),a.position.set(0,0,0),t.addBody(a);let i=new e.Sphere(.3),c=new e.Body({mass:1,shape:i,fixedRotation:!0});c.position.set(R.current.x,R.current.y,R.current.z),c.linearDamping=.9,c.collisionFilterGroup=1,t.addBody(c),X.current=c;let s=O.current;s&&s.children.forEach(r=>{let n=r.position,a=.6*(r.scale.x||1),o=new e.Sphere(a),i=new e.Body({mass:0});i.addShape(o),i.position.set(n.x,n.y+1,n.z),t.addBody(i)});let l=setInterval(()=>{if(U.current&&(U.current.step(1/60),X.current)){let e=X.current.position;R.current.set(e.x,e.y,e.z)}},1e3/60);return()=>{clearInterval(l)}}catch(e){console.error("Failed to load cannon-es; install it with `npm i cannon-es` to enable physics",e),N(!1)}})(),()=>{n=!0}},[K]),(0,a.useEffect)(()=>{let t=e=>{switch(e.code){case"KeyW":case"ArrowUp":Y.current.forward=!0;break;case"KeyS":case"ArrowDown":Y.current.backward=!0;break;case"KeyA":case"ArrowLeft":Y.current.left=!0;break;case"KeyD":case"ArrowRight":Y.current.right=!0;break;case"Space":B.current.isGrounded&&(B.current.yVelocity=.3,B.current.isGrounded=!1);break;case"ShiftLeft":case"ShiftRight":Y.current.shift=!0}},r=e=>{switch(e.code){case"KeyW":case"ArrowUp":Y.current.forward=!1;break;case"KeyS":case"ArrowDown":Y.current.backward=!1;break;case"KeyA":case"ArrowLeft":Y.current.left=!1;break;case"KeyD":case"ArrowRight":Y.current.right=!1;break;case"ShiftLeft":case"ShiftRight":Y.current.shift=!1}},n=e=>{if(!document.pointerLockElement)return;let t=D?-1:1,r=C?-1:1;J.current.theta+=.002*e.movementX*t,J.current.phi-=.002*e.movementY*r,J.current.phi=Math.max(-Math.PI/2,Math.min(Math.PI/2,J.current.phi))},a=()=>{e.current&&e.current.requestPointerLock()};return window.addEventListener("keydown",t),window.addEventListener("keyup",r),window.addEventListener("mousemove",n),e.current&&e.current.addEventListener("click",a),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r),window.removeEventListener("mousemove",n),e.current&&e.current.removeEventListener("click",a)}},[D,C]),(0,a.useEffect)(()=>{let e=setInterval(()=>{if(!h.current)return;let e=h.current,t=Y.current,r=B.current,n=R.current,a=t.shift?.2:.1;if(K&&X.current&&U.current){let r=T.current,n=X.current,o=new c.Pq0;e.getWorldDirection(o),o.y=0,o.normalize();let i=new c.Pq0().crossVectors(o,new c.Pq0(0,1,0)).normalize(),s=new r.Vec3(0,n.velocity.y,0);t.forward&&s.vadd(new r.Vec3(o.x*a*60,0,o.z*a*60),s),t.backward&&s.vadd(new r.Vec3(-o.x*a*60,0,-o.z*a*60),s),t.left&&s.vadd(new r.Vec3(-i.x*a*60,0,-i.z*a*60),s),t.right&&s.vadd(new r.Vec3(i.x*a*60,0,i.z*a*60),s),n.velocity.set(s.x,n.velocity.y,s.z),t.jump&&.001>Math.abs(n.velocity.y)&&(n.velocity.y=15);let l=n.position;R.current.set(l.x,l.y,l.z)}else{e.rotation.x=J.current.phi,e.rotation.y=J.current.theta,e.rotation.z=0;let o=new c.Pq0;e.getWorldDirection(o),o.y=0,o.normalize();let i=new c.Pq0;i.crossVectors(o,new c.Pq0(0,1,0)).normalize();let s=n.clone();t.forward&&s.addScaledVector(o,a),t.backward&&s.addScaledVector(o,-a),t.left&&s.addScaledVector(i,-a),t.right&&s.addScaledVector(i,a);let l=O.current,d=!1;if(l)for(let e of l.children){let t=s.x-e.position.x,r=s.z-e.position.z;if(t*t+r*r<(.3+.6*(e.scale.x||1))**2){d=!0;break}}d||n.copy(s),r.yVelocity+=-.015,n.y+=r.yVelocity,n.y<=1.6&&(n.y=1.6,r.yVelocity=0,r.isGrounded=!0)}if(M){let t=new c.Pq0(0,0,1).applyEuler(new c.O9p(0,J.current.theta,0)),r=n.clone().addScaledVector(t,3);r.y=n.y+1.6,e.position.lerp(r,.2),e.lookAt(n.x,n.y+1,n.z)}else e.position.copy(n);if(j.current){let e=j.current;e.position.lerp(new c.Pq0(n.x,0,n.z),.3),e.rotation.y=J.current.theta,e.visible=M}},16);return()=>clearInterval(e)},[M,K]),(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await s(z,R.current.clone());if(!e)return;L.current=t.group,t.mixer&&(G.current=t.mixer),t.actions&&(A.current=t.actions)}catch(a){let e=new c.YJl,t=new c.iNn(.6,1.6,.4),r=new c._4j({color:0x996644}),n=new c.eaF(t,r);n.castShadow=!0,n.position.set(0,.8,0),e.add(n),e.position.copy(R.current),z.add(e),L.current=e}})(),()=>{e=!1}},[z]),(0,o.D)((e,t)=>{G.current&&G.current.update(t),E.rotation.order="YXZ",E.rotation.x=J.current.phi,E.rotation.y=J.current.theta,E.rotation.z=0;let r=Y.current.shift?4*t:2*t,n=new c.Pq0;E.getWorldDirection(n),n.y=0,n.normalize();let a=new c.Pq0().crossVectors(n,new c.Pq0(0,1,0)).normalize();if(Y.current.forward&&R.current.addScaledVector(n,r),Y.current.backward&&R.current.addScaledVector(n,-r),Y.current.left&&R.current.addScaledVector(a,-r),Y.current.right&&R.current.addScaledVector(a,r),E.position.copy(R.current),E.position.y=1.6,L.current){let e=L.current,t=new c.Pq0(R.current.x,0,R.current.z);e.position.lerp(t,.2),e.rotation.y=J.current.theta}});let[en,ea]=(0,a.useState)(null),eo=(0,a.useRef)(Z()).current;return((0,a.useEffect)(()=>{ea(H(eo))},[eo]),en)?(0,n.jsx)(f,{children:(0,n.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,n.jsxs)(i.Hl,{id:"root-canvas",shadows:!0,camera:{position:[0,1.6,0],fov:75},children:[(0,n.jsx)("ambientLight",{intensity:.6}),(0,n.jsx)("directionalLight",{position:[50,50,25],intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),(0,n.jsx)(y,{materials:en}),(0,n.jsx)(l,{materials:en}),(0,n.jsx)(d,{materials:en,count:80,spread:50}),(0,n.jsx)(u,{materials:en})]})})}):(0,n.jsx)("div",{style:{width:"100%",height:"100%"}})}let x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=new c.YJl,a=new c.Ho_(.18,.25,2,8),o=new c.qFE(1.2,2,8),i=new c.qFE(.8,1.4,8);for(let s=0;s<t;s++){let t=new c.YJl,s=new c.eaF(a,e.trunk);s.position.y=1,s.castShadow=!0,s.receiveShadow=!0,t.add(s);let l=new c.eaF(o,e.teaPlant);l.position.y=2.2,l.castShadow=!0,t.add(l);let d=new c.eaF(i,e.teaPlant);d.position.y=3.1,d.castShadow=!0,t.add(d);let u=(Math.random()-.5)*r*2,w=(Math.random()-.5)*r*2;t.position.set(u,0,w),t.rotation.y=Math.random()*Math.PI*2;let h=.8+.8*Math.random();t.scale.set(h,h,h),n.add(t)}return n},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=new c.YJl,o=new c.YJl,i=t*r/2,s=new c.G_z({color:3881787}),l=new c.G_z({color:0xe0cda2}),d=new c.G_z({color:1118481}),u=new c.G_z({color:0xaa2222}),w=new c.iNn(r,.06,r),h=new c.Ho_(.35*r,.35*r,.25,16);for(let e=0;e<t;e++)for(let n=0;n<t;n++){let a=(e+n)%2==1,f=a?s:l,m=new c.eaF(w,f),p=n*r-i+r/2,y=e*r-i+r/2;if(m.position.set(p,0,y),m.receiveShadow=!0,o.add(m),a&&(e<3||e>=t-3)){let t=new c.eaF(h,e<3?d:u);t.position.set(p,.16,y),t.castShadow=!0,o.add(t)}}let f=new c.iNn(t*r+.2,.1,t*r+.2),m=e.stone||new c.G_z({color:5588019}),p=new c.eaF(f,m);return p.position.set(0,-.05,0),p.receiveShadow=!0,a.add(p),a.add(o),(null==n?void 0:n.position)&&a.position.copy(n.position),a},k=e=>{let t=new c.YJl;t.position.set(0,-.2,-.5);let r=new c.iNn(.18,.18,.5),n=new c.iNn(.14,.08,.2),a=e.wood||new c._4j({color:0xd1a17a}),o=new c.eaF(r,a);o.position.set(-.18,0,-.15),o.castShadow=!0,t.add(o);let i=new c.eaF(n,a);i.position.set(-.18,-.12,-.4),i.castShadow=!0,t.add(i);let s=new c.eaF(r,a);s.position.set(.18,0,-.15),s.castShadow=!0,t.add(s);let l=new c.eaF(n,a);return l.position.set(.18,-.12,-.4),l.castShadow=!0,t.add(l),t.scale.set(.9,.9,.9),t}},9180:(e,t,r)=>{Promise.resolve().then(r.bind(r,32))}},e=>{var t=t=>e(e.s=t);e.O(0,[9367,1831,8413,3562,8441,1684,7358],()=>t(9180)),_N_E=e.O()}]);